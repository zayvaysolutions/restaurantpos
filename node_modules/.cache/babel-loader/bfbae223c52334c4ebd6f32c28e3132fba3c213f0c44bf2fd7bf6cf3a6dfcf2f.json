{"ast":null,"code":"import React,{useContext}from'react';import{AppProvider,AppContext}from'./context/AppContext';import Login from'./components/layout/Login';import Header from'./components/layout/Header';import Navigation from'./components/layout/Navigation';import SalesModule from'./components/sales/SalesModule';import ReportsModule from'./components/reports/ReportsModule';import InventoryModule from'./components/inventory/InventoryModule';import DashboardModule from'./components/dashboard/DashboardModule';import SettingsModule from'./components/settings/SettingsModule';import PaymentModal from'./components/sales/PaymentModal';import ThermalReceipt from'./components/common/ThermalReceipt';import{Icons}from'./components/common/Icons';import{Button}from'./components/common/Button';// Componente principal que usa el contexto\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RestaurantAppContent=()=>{const{isLoggedIn,currentUser,currentView,setCurrentView,handleLogin,// ← Ahora está definido\nhandleLogout,showPaymentModal,setShowPaymentModal,showReceipt,setShowReceipt,lastSale,businessName,businessLogo,logoType,processSale}=useContext(AppContext);if(!isLoggedIn){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{user:currentUser,onLogout:handleLogout}),/*#__PURE__*/_jsx(Navigation,{currentView:currentView,onViewChange:setCurrentView}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-container container mx-auto px-3 sm:px-6 py-4 sm:py-6\",children:[currentView==='sales'&&/*#__PURE__*/_jsx(SalesModule,{}),currentView==='reports'&&/*#__PURE__*/_jsx(ReportsModule,{}),currentView==='dashboard'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(DashboardModule,{}),currentView==='inventory'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(InventoryModule,{}),currentView==='settings'&&(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(SettingsModule,{})]}),/*#__PURE__*/_jsx(PaymentModal,{isOpen:showPaymentModal,onClose:()=>setShowPaymentModal(false),onConfirm:processSale}),showReceipt&&lastSale&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-md modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 sm:p-6 no-print\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:\"Venta Completada\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReceipt(false),className:\"touch-target p-2 hover:bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(Icons.X,{size:24})})]}),/*#__PURE__*/_jsx(ThermalReceipt,{sale:lastSale,business:{name:businessName,logo:businessLogo,logoType}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"info\",icon:/*#__PURE__*/_jsx(Icons.Printer,{size:20}),onClick:()=>window.print(),fullWidth:true,children:\"Imprimir\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowReceipt(false),fullWidth:true,children:\"Cerrar\"})]})]})})})]});};// Componente raíz con el provider\nconst RestaurantApp=()=>{return/*#__PURE__*/_jsx(AppProvider,{children:/*#__PURE__*/_jsx(RestaurantAppContent,{})});};export default RestaurantApp;","map":{"version":3,"names":["React","useContext","AppProvider","AppContext","Login","Header","Navigation","SalesModule","ReportsModule","InventoryModule","DashboardModule","SettingsModule","PaymentModal","ThermalReceipt","Icons","Button","jsx","_jsx","jsxs","_jsxs","RestaurantAppContent","isLoggedIn","currentUser","currentView","setCurrentView","handleLogin","handleLogout","showPaymentModal","setShowPaymentModal","showReceipt","setShowReceipt","lastSale","businessName","businessLogo","logoType","processSale","onLogin","className","children","user","onLogout","onViewChange","role","isOpen","onClose","onConfirm","onClick","X","size","sale","business","name","logo","variant","icon","Printer","window","print","fullWidth","RestaurantApp"],"sources":["C:/RestaurantPOS-Firebase/src/App.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { AppProvider, AppContext } from './context/AppContext';\r\nimport Login from './components/layout/Login';\r\nimport Header from './components/layout/Header';\r\nimport Navigation from './components/layout/Navigation';\r\nimport SalesModule from './components/sales/SalesModule';\r\nimport ReportsModule from './components/reports/ReportsModule';\r\nimport InventoryModule from './components/inventory/InventoryModule';\r\nimport DashboardModule from './components/dashboard/DashboardModule';\r\nimport SettingsModule from './components/settings/SettingsModule';\r\nimport PaymentModal from './components/sales/PaymentModal';\r\nimport ThermalReceipt from './components/common/ThermalReceipt';\r\nimport { Icons } from './components/common/Icons';\r\nimport { Button } from './components/common/Button';\r\n\r\n// Componente principal que usa el contexto\r\nconst RestaurantAppContent = () => {\r\n    const { \r\n        isLoggedIn, \r\n        currentUser, \r\n        currentView, \r\n        setCurrentView,\r\n        handleLogin,  // ← Ahora está definido\r\n        handleLogout,\r\n        showPaymentModal,\r\n        setShowPaymentModal,\r\n        showReceipt,\r\n        setShowReceipt,\r\n        lastSale,\r\n        businessName,\r\n        businessLogo,\r\n        logoType,\r\n        processSale\r\n    } = useContext(AppContext);\r\n\r\n    if (!isLoggedIn) {\r\n        return <Login onLogin={handleLogin} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <Header user={currentUser} onLogout={handleLogout} />\r\n            \r\n            <Navigation \r\n                currentView={currentView} \r\n                onViewChange={setCurrentView} \r\n            />\r\n\r\n            <main className=\"main-container container mx-auto px-3 sm:px-6 py-4 sm:py-6\">\r\n                {currentView === 'sales' && <SalesModule />}\r\n                {currentView === 'reports' && <ReportsModule />}\r\n                {currentView === 'dashboard' && currentUser?.role === 'admin' && <DashboardModule />}\r\n                {currentView === 'inventory' && currentUser?.role === 'admin' && <InventoryModule />}\r\n                {currentView === 'settings' && currentUser?.role === 'admin' && <SettingsModule />}\r\n            </main>\r\n\r\n            <PaymentModal\r\n                isOpen={showPaymentModal}\r\n                onClose={() => setShowPaymentModal(false)}\r\n                onConfirm={processSale}\r\n            />\r\n\r\n            {showReceipt && lastSale && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md modal-content\">\r\n                        <div className=\"p-4 sm:p-6 no-print\">\r\n                            <div className=\"flex justify-between items-center mb-4\">\r\n                                <h3 className=\"text-xl font-bold\">Venta Completada</h3>\r\n                                <button\r\n                                    onClick={() => setShowReceipt(false)}\r\n                                    className=\"touch-target p-2 hover:bg-gray-100 rounded-lg\"\r\n                                >\r\n                                    <Icons.X size={24} />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <ThermalReceipt \r\n                                sale={lastSale} \r\n                                business={{ name: businessName, logo: businessLogo, logoType }}\r\n                            />\r\n\r\n                            <div className=\"flex gap-3 mt-4\">\r\n                                <Button\r\n                                    variant=\"info\"\r\n                                    icon={<Icons.Printer size={20} />}\r\n                                    onClick={() => window.print()}\r\n                                    fullWidth\r\n                                >\r\n                                    Imprimir\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => setShowReceipt(false)}\r\n                                    fullWidth\r\n                                >\r\n                                    Cerrar\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente raíz con el provider\r\nconst RestaurantApp = () => {\r\n    return (\r\n        <AppProvider>\r\n            <RestaurantAppContent />\r\n        </AppProvider>\r\n    );\r\n};\r\n\r\nexport default RestaurantApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}